### install nginx

```bash
sudo apt install nginx -y
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash

systemctl status nginx
```

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```bash
http://IP_–°–ï–†–í–ï–†–ê
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Nginx.

–°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π —Å–∞–π—Ç:

sudo vim /etc/nginx/sites-available/nest-api

### üìÑ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–µ–∑ –¥–æ–º–µ–Ω–∞, –ø–æ IP)

```nginx

server {
    listen 80;
    server_name _;

    client_max_body_size 10M;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;

        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";

        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        proxy_cache_bypass $http_upgrade;
    }
}
```

### 5Ô∏è‚É£ –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–∞–π—Ç

```bash
sudo ln -s /etc/nginx/sites-available/nest-api /etc/nginx/sites-enabled/
```

### –£–¥–∞–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π:

```bash
sudo rm /etc/nginx/sites-enabled/default
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞:

```bash
sudo nginx -t
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:

```bash
sudo systemctl reload nginx
```

### 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```bash
http://IP_–°–ï–†–í–ï–†–ê
```

### üëâ –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è Nest API, –∞ –ø–æ—Ä—Ç 3000 —Å–Ω–∞—Ä—É–∂–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

### 7Ô∏è‚É£ –õ–æ–≥–∏ (–æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ)

Nginx:

```bash
sudo tail -f /var/log/nginx/error.log
sudo tail -f /var/log/nginx/access.log
```

Nest:

```bash
pm2 logs nest-api
```

### 8Ô∏è‚É£ (–†–ï–ö–û–ú–ï–ù–î–£–Æ) Health-check

–î–æ–±–∞–≤—å –≤ Nest:

```ts
@Get('health')
health() {
    return { status: 'ok' };
}
```

–ü—Ä–æ–≤–µ—Ä—å:

```bash
http://IP/health
```
