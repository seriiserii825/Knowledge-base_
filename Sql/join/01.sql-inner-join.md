# SQL JOIN - Полная документация

## Содержание

1. [Введение](#введение)
2. [Типы JOIN](#типы-join)
3. [INNER JOIN](#inner-join)
4. [LEFT JOIN (LEFT OUTER JOIN)](#left-join-left-outer-join)
5. [RIGHT JOIN (RIGHT OUTER JOIN)](#right-join-right-outer-join)
6. [FULL OUTER JOIN](#full-outer-join)
7. [CROSS JOIN](#cross-join)
8. [SELF JOIN](#self-join)
9. [Множественные JOIN](#множественные-join)
10. [Условия JOIN](#условия-join)
11. [Производительность](#производительность)
12. [Лучшие практики](#лучшие-практики)

---

## Введение

JOIN - это операция в SQL, которая позволяет объединять строки из двух или более таблиц на основе связанных между ними столбцов.
Это один из самых мощных инструментов реляционных баз данных.

### Базовый синтаксис

```sql
SELECT columns
FROM table1
JOIN_TYPE table2
ON table1.column = table2.column;
```

---

## Типы JOIN

Существует несколько типов JOIN операций:

- **INNER JOIN** - возвращает только совпадающие строки из обеих таблиц
- **LEFT JOIN** - возвращает все строки из левой таблицы и совпадающие из правой
- **RIGHT JOIN** - возвращает все строки из правой таблицы и совпадающие из левой
- **FULL OUTER JOIN** - возвращает все строки из обеих таблиц
- **CROSS JOIN** - возвращает декартово произведение двух таблиц
- **SELF JOIN** - соединение таблицы с самой собой

---

## INNER JOIN

INNER JOIN возвращает только те строки, для которых найдено совпадение в обеих таблицах.

### Синтаксис

```sql
SELECT columns
FROM table1
INNER JOIN table2
ON table1.column = table2.column;
```

### Пример данных

**Таблица: customers**

| customer_id | name           | city            |
| ----------- | -------------- | --------------- |
| 1           | Иван Петров    | Москва          |
| 2           | Мария Сидорова | Санкт-Петербург |
| 3           | Алексей Иванов | Казань          |
| 4           | Елена Смирнова | Москва          |

**Таблица: orders**

| order_id | customer_id | product    | amount |
| -------- | ----------- | ---------- | ------ |
| 101      | 1           | Ноутбук    | 50000  |
| 102      | 2           | Телефон    | 30000  |
| 103      | 1           | Мышь       | 1000   |
| 104      | 5           | Клавиатура | 3000   |

### Примеры запросов

**Пример 1: Простой INNER JOIN**

```sql
SELECT
    customers.name,
    customers.city,
    orders.product,
    orders.amount
FROM customers
INNER JOIN orders
ON customers.customer_id = orders.customer_id;
```

**Результат:**

| name           | city            | product | amount |
| -------------- | --------------- | ------- | ------ |
| Иван Петров    | Москва          | Ноутбук | 50000  |
| Иван Петров    | Москва          | Мышь    | 1000   |
| Мария Сидорова | Санкт-Петербург | Телефон | 30000  |

**Пример 2: INNER JOIN с WHERE**

```sql
SELECT
    c.name,
    o.product,
    o.amount
FROM customers c
INNER JOIN orders o
ON c.customer_id = o.customer_id
WHERE o.amount > 10000;
```

**Пример 3: INNER JOIN с агрегацией**

```sql
SELECT
    c.name,
    COUNT(o.order_id) AS total_orders,
    SUM(o.amount) AS total_spent
FROM customers c
INNER JOIN orders o
ON c.customer_id = o.customer_id
GROUP BY c.customer_id, c.name;
```
