### üè≠ –ß—Ç–æ —Ç–∞–∫–æ–µ Abstract Factory?

Abstract Factory ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç —Å–µ–º–µ–π—Å—Ç–≤–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.

–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:
üëâ –¢—ã –≥–æ–≤–æ—Ä–∏—à—å: ¬´–î–∞–π –º–Ω–µ –∫–æ–º–ø–ª–µ–∫—Ç –¥–ª—è Windows¬ª
–ê —Ñ–∞–±—Ä–∏–∫–∞ —Å–∞–º–∞ —Å–æ–∑–¥–∞—ë—Ç –∫–Ω–æ–ø–∫—É Windows, —á–µ–∫–±–æ–∫—Å Windows, –∏–Ω–ø—É—Ç Windows.

–ì–æ–≤–æ—Ä–∏—à—å: ¬´–î–∞–π –∫–æ–º–ø–ª–µ–∫—Ç –¥–ª—è Mac¬ª ‚Äî
–∏ –ø–æ–ª—É—á–∞–µ—à—å MacButton, MacCheckbox, MacInput.

‚ùó –í–∞–∂–Ω–æ
Abstract Factory —Å–æ–∑–¥–∞—ë—Ç –ù–ï –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç, –∞ –Ω–∞–±–æ—Ä –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ:

- –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ
- –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –æ–¥–Ω–æ–π "—Ç–µ–º–µ", –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ, —Å—Ç–∏–ª—é –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –∑–∞–º–µ–Ω—è—é—Ç—Å—è –æ–ø—Ç–æ–º (–æ–¥–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–æ–π)

### üß† –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–ò—Å–ø–æ–ª—å–∑—É–π Abstract Factory, –∫–æ–≥–¥–∞:

‚úî 1. –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ —Å–µ–º–µ–π—Å—Ç–≤–∞
–ù–∞–ø—Ä–∏–º–µ—Ä:

- UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥ Windows / Mac / Linux
- —Å—Ç–∏–ª–∏ –¥–ª—è light / dark theme
- –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö MySQL / PostgreSQL / MongoDB
- —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã API-–∫–ª–∏–µ–Ω—Ç–æ–≤ dev / stage / prod

### ‚úî 2. –•–æ—á–µ—à—å –º–µ–Ω—è—Ç—å "–∫–æ–º–ø–ª–µ–∫—Ç" –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π

–ù–∞–ø—Ä–∏–º–µ—Ä:

```ts
const factory = isMac ? new MacFactory() : new WindowsFactory();
```

–∏ –≤–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è.

### ‚úî 3. –ù–µ —Ö–æ—á–µ—à—å –∑–∞—Å–æ—Ä—è—Ç—å –∫–æ–¥ —É—Å–ª–æ–≤–Ω–æ—Å—Ç—è–º–∏ —Ç–∏–ø–∞:

```ts
if (os === "win") createWinButton();
else createMacButton();
```

—Å–æ—Ç–Ω–∏ —Ä–∞–∑.

### üß© –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç? (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
–û–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã.

–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏
–°–æ–∑–¥–∞—é—Ç –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É/—Ç–µ–º—É.

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
–û–ø–∏—Å—ã–≤–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–Ω–æ–ø–∫–∏, —á–µ–∫–±–æ–∫—Å–∞ –∏ —Ç.–¥.

–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
–†–µ–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∫–Ω–æ–ø–æ–∫, —á–µ–∫–±–æ–∫—Å–æ–≤ –∏ —Ç.–ø.

–ö–ª–∏–µ–Ω—Ç
–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ ‚Üí –Ω–µ –∑–Ω–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É.

### ‚≠ê –ü—Ä–∏–º–µ—Ä –Ω–∞ TypeScript (—Ä–µ–∞–ª—å–Ω—ã–π UI –ø—Ä–∏–º–µ—Ä)

### 1) –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã

```ts
interface Button {
  render(): void;
}

interface Checkbox {
  check(): void;
}
```

### 2) –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã

```ts
class WinButton implements Button {
  render() {
    console.log("Rendering Windows button");
  }
}

class MacButton implements Button {
  render() {
    console.log("Rendering Mac button");
  }
}

class WinCheckbox implements Checkbox {
  check() {
    console.log("Checking Windows checkbox");
  }
}

class MacCheckbox implements Checkbox {
  check() {
    console.log("Checking Mac checkbox");
  }
}
```

### 3) –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞

```ts
interface GUIFactory {
  createButton(): Button;
  createCheckbox(): Checkbox;
}
```

### 4) –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏

```ts
class WinFactory implements GUIFactory {
  createButton() {
    return new WinButton();
  }
  createCheckbox() {
    return new WinCheckbox();
  }
}

class MacFactory implements GUIFactory {
  createButton() {
    return new MacButton();
  }
  createCheckbox() {
    return new MacCheckbox();
  }
}
```

### 5) –ö–ª–∏–µ–Ω—Ç

```ts
function app(factory: GUIFactory) {
  const btn = factory.createButton();
  const chk = factory.createCheckbox();

  btn.render();
  chk.check();
}
```

### 6) –í—ã–±–æ—Ä —Å–µ–º–µ–π—Å—Ç–≤–∞

```ts
const os = "mac";
const factory = os === "win" ? new WinFactory() : new MacFactory();

app(factory);
```

### üß® –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–∞ —á—Ç–æ –ø–æ—Ö–æ–∂–µ?

‚úî –¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

```ts
const factory = new DarkThemeFactory();
```

–¥–∞—ë—Ç:

- —Ç—ë–º–Ω—É—é –∫–Ω–æ–ø–∫—É
- —Ç—ë–º–Ω—ã–π –∏–Ω–ø—É—Ç
- —Ç—ë–º–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É

### ‚úî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API-–∫–ª–∏–µ–Ω—Ç–æ–≤

```ts
new ProdAPIClientFactory();
```

–¥–∞—ë—Ç:

- AuthClientProd
- UserClientProd
- AdminClientProd

### ‚úî –ò–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã

–û—Ä—É–∂–∏–µ/–±—Ä–æ–Ω—è/–ø–µ—Ä—Å–æ–Ω–∞–∂ ‚Üí –Ω–∞–±–æ—Ä –¥–ª—è:

- ElfFactory
- OrcFactory
- HumanFactory

### üéØ –ó–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

–ß—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
–í–º–µ—Å—Ç–æ:

```ts
const btn = new MacButton();
```

—Ç—ã –≥–æ–≤–æ—Ä–∏—à—å:

```ts
const btn = factory.createButton();
```

–∏ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏.

–ß—Ç–æ–±—ã –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ü–µ–ª—ã–µ —Å–µ–º–µ–π—Å—Ç–≤–∞
–í–º–µ—Å—Ç–æ —Å–æ—Ç–µ–Ω –∏—Ñ–æ–≤ ‚Äî –æ–¥–∏–Ω –≤—ã–±–æ—Ä —Ñ–∞–±—Ä–∏–∫–∏.
