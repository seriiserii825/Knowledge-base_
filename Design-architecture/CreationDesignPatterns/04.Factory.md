### ‚úÖ –ß—Ç–æ —Ç–∞–∫–æ–µ Factory Method (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏)

Factory Method ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –≤—ã–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥/–∫–ª–∞—Å—Å, —á—Ç–æ–±—ã –Ω–µ –ø–∏—Å–∞—Ç—å new –≤–µ–∑–¥–µ, –∏ —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

–¢–æ –µ—Å—Ç—å:

–¢—ã –Ω–µ —Å–æ–∑–¥–∞—ë—à—å –æ–±—ä–µ–∫—Ç –Ω–∞–ø—Ä—è–º—É—é (new Class()), –∞ —Å–ø—Ä–∞—à–∏–≤–∞–µ—à—å —Ñ–∞–±—Ä–∏–∫—É: ‚Äú–¥–∞–π –º–Ω–µ –Ω—É–∂–Ω—ã–π –æ–±—ä–µ–∫—Ç‚Äù.

–§–∞–±—Ä–∏–∫–∞ —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

### üü• –ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ Factory

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —É —Ç–µ–±—è —Å–∞–π—Ç, –∏ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–∫–Ω–æ (dialog), –Ω–æ –¥–∏–∑–∞–π–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–π:

- HTMLDialog
- WindowsDialog
- MacDialog

### –ò –≤ –∫–æ–¥–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –Ω–∞—á–∏–Ω–∞—é—Ç –ø–∏—Å–∞—Ç—å:

```ts
function showDialog(type: string) {
  if (type === "html") {
    const dialog = new HtmlDialog();
    dialog.render();
  }

  if (type === "windows") {
    const dialog = new WindowsDialog();
    dialog.render();
  }

  if (type === "mac") {
    const dialog = new MacDialog();
    dialog.render();
  }
}
```

–ü—Ä–æ–±–ª–µ–º—ã:

- –í–µ—Å—å –∫–æ–¥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (HtmlDialog, WindowsDialog‚Ä¶)
- –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ ‚Äî –Ω–∞–¥–æ –º–µ–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏—é ‚Üí –Ω–∞—Ä—É—à–µ–Ω–∏–µ OCP.
- new Class() –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö.
- –ö–æ–¥ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∫–∞—à—É –∏–∑ —É—Å–ª–æ–≤–∏–π.

### üü© –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Factory Method

–ú—ã —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤—ã–Ω–æ—Å–∏–º –Ω–∞—Ä—É–∂—É ‚Äî –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —ç—Ç–∏–º.

‚≠ê –ü—Ä–∏–º–µ—Ä –î–û –∏ –ü–û–°–õ–ï ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π

### üü• –ü–†–ò–ú–ï–† 1 ‚Äî –±–µ–∑ —Ñ–∞–±—Ä–∏–∫–∏ (–æ–±—ã—á–Ω—ã–π –ø–ª–æ—Ö–æ–π –∫–æ–¥)

–¢—ã —Ö–æ—á–µ—à—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏:

```ts
function deliver(type: string) {
  let transport;

  if (type === "truck") {
    transport = new Truck();
  }

  if (type === "ship") {
    transport = new Ship();
  }

  transport.deliver();
}
```

### –ü–õ–û–•–û, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- –∫—É—á–∞ if
- –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–∞–¥–æ –º–µ–Ω—è—Ç—å –∫–æ–¥
- –ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–º–µ—à–∞–Ω–∞

### üü© –ü–†–ò–ú–ï–† 2 ‚Äî —Å —Ñ–∞–±—Ä–∏–∫–æ–π (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

1. –§–∞–±—Ä–∏–∫–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –∫–∞–∫–æ–π –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—Ç—å

```ts
class TransportFactory {
  create(type: string) {
    if (type === "truck") return new Truck();
    if (type === "ship") return new Ship();

    throw new Error("Unknown type");
  }
}
```

### 2) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```ts
const factory = new TransportFactory();
const transport = factory.create("truck");
transport.deliver();
```

–¢–µ–ø–µ—Ä—å:

- deliver() –≤–æ–æ–±—â–µ –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è.
- –∫–æ–¥ —Å—Ç–∞–ª –≥–∏–±—á–µ
- –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –Ω–µ —Ç—Ä–æ–≥–∞—è –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç–∞–≤–∫–∏

### üî• –ï—â–µ –ª—É—á—à–µ ‚Äî Factory Method —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π GoF)

1. –û–±—â–∞—è –ª–æ–≥–∏–∫–∞

```ts
abstract class Logistics {
  plan() {
    const transport = this.createTransport(); // —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
    transport.deliver();
  }

  abstract createTransport(): Transport;
}
```

### 2) –†–∞–∑–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

```ts
class RoadLogistics extends Logistics {
  createTransport() {
    return new Truck();
  }
}

class SeaLogistics extends Logistics {
  createTransport() {
    return new Ship();
  }
}
```

### 3) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```ts
const logistics = new SeaLogistics();
logistics.plan(); // Ship.deliver()
```

### üìå –ò–¢–û–ì ‚Äî —Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ Factory Method

–ï—Å–ª–∏ –≤–æ–æ–±—â–µ –æ–¥–Ω–æ–π —Ñ—Ä–∞–∑–æ–π:

Factory Method ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–µ –Ω–∞–ø—Ä—è–º—É—é, –∞ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥/–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –æ–±—ä–µ–∫—Ç –Ω—É–∂–µ–Ω.

–ò –∑–∞—á–µ–º:

- —É–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ new
- —Å–ø—Ä—è—Ç–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ç–∏–ø—ã
- –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
