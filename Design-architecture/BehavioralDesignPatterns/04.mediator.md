Mediator (–ú–µ–¥–∏–∞—Ç–æ—Ä) ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–Ω—å—à–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏, –∑–∞—Å—Ç–∞–≤–ª—è—è –∏—Ö –æ–±—â–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é.

–ü—Ä–æ—â–µ:
üëâ –£ —Ç–µ–±—è –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –æ–±—â–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π, –Ω–æ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –æ–Ω–∏ –∑–Ω–∞–ª–∏ –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ.

### üìå –ß—Ç–æ —Ç–∞–∫–æ–µ Mediator?

–≠—Ç–æ –æ–±—ä–µ–∫—Ç-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.
–í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–¥–∏–∞—Ç–æ—Ä—É, –∞ –æ–Ω —É–∂–µ —Ä–µ—à–∞–µ—Ç, –∫–æ–º—É –∏—Ö –¥–æ—Å—Ç–∞–≤–∏—Ç—å.

### üß† –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Mediator?

‚úî –ß—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å (decoupling)
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –∑–Ω–∞—Ç—å –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ ‚Üí —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è "—Å–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥".

‚úî –ß—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–æ–¥
–õ–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –Ω–µ –≤ –∫–∞–∂–¥–æ–º –æ–±—ä–µ–∫—Ç–µ, –∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

‚úî –ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
–ú–µ–Ω—è–µ—à—å –º–µ–¥–∏–∞—Ç–æ—Ä ‚Äî –º–µ–Ω—è–µ—Ç—Å—è –≤—Å—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.

### üìÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Mediator?

–ò—Å–ø–æ–ª—å–∑—É–π, –µ—Å–ª–∏:

- –£ —Ç–µ–±—è –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤, —Å–ª–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –ª–æ–º–∞—é—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ.
- –û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —É–≤–µ–¥–æ–º–ª—è—Ç—å –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö.
- –ù—É–∂–µ–Ω ‚Äú–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä‚Äù –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ —á–∞—Ç-–∫–æ–º–Ω–∞—Ç—É –∏–ª–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä.

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã:

- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∞, —Ñ–æ—Ä–º–∞, –ø–æ–ª–µ –≤–≤–æ–¥–∞).
- –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –≤ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.
- –ß–∞—Ç-–∫–æ–º–Ω–∞—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- Air Traffic Control (—Å–∞–º–æ–ª—ë—Ç—ã –Ω–µ –æ–±—â–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π ‚Äî —Ç–æ–ª—å–∫–æ —Å –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º).

### üß© –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Mediator (—Å—Ö–µ–º–∞)

Component A   ‚Üí  
Component B   ‚Üí   Mediator ‚Üí –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è
Component C   ‚Üí
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –∑–Ω–∞–µ—Ç, –∫–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –æ–Ω –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –º–µ–¥–∏–∞—Ç–æ—Ä–∞.

üíª –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä Mediator –Ω–∞ TypeScript
üé§ –ü—Ä–∏–º–µ—Ä: –ß–∞—Ç-–∫–æ–º–Ω–∞—Ç–∞
```ts
interface Mediator {
    send(message: string, sender: Colleague): void;
}

class ChatRoom implements Mediator {
    private users: Colleague[] = [];

    register(user: Colleague) {
        this.users.push(user);
        user.setMediator(this);
    }

    send(message: string, sender: Colleague) {
        this.users
            .filter(u => u !== sender)
            .forEach(u => u.receive(message, sender.name));
    }
}

class Colleague {
    constructor(public name: string) {}
    private mediator!: Mediator;

    setMediator(mediator: Mediator) {
        this.mediator = mediator;
    }

    send(message: string) {
        this.mediator.send(message, this);
    }

    receive(msg: string, from: string) {
        console.log(`${this.name} received from ${from}: ${msg}`);
    }
}

// === USAGE ===
const room = new ChatRoom();

const alice = new Colleague("Alice");
const bob = new Colleague("Bob");
const john = new Colleague("John");

room.register(alice);
room.register(bob);
room.register(john);
alice.send("Hello everyone!");
```

üìå Alice –æ—Ç–ø—Ä–∞–≤–∏–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –º–µ–¥–∏–∞—Ç–æ—Ä —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–º.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ, —Ç–æ–ª—å–∫–æ –æ –º–µ–¥–∏–∞—Ç–æ—Ä–µ.

üéØ –ò—Ç–æ–≥
–ü–∞—Ç—Ç–µ—Ä–Ω Mediator:

- –†–∞–∑—Ä—ã–≤–∞–µ—Ç –ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏
- –î–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –≥–∏–±—á–µ
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –£–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π ‚Äú–∫–∞–∂–¥—ã–π —Å –∫–∞–∂–¥—ã–º‚Äù
