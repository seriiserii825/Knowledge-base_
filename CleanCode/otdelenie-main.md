# –û—Ç–¥–µ–ª–µ–Ω–∏–µ main

## üî¥ **–ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä (—Å–º–µ—à–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤)**

```python
class Database:
    def query(self, sql):
        print(f"–í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å: {sql}")
        return [{"id": 1, "name": "–ò–≤–∞–Ω"}]

class UserService:
    def __init__(self):
        self.db = Database()  # ‚ùå –ñ—ë—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞

    def get_users(self):
        return self.db.query("SELECT * FROM users")

# –ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ...
service = UserService()  # ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞
users = service.get_users()
print(users)
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

1. **–ñ—ë—Å—Ç–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞** –∫ `Database` ‚Äì –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞ –¥—Ä—É–≥—É—é –ë–î,
   –ø—Ä–∏–¥–µ—Ç—Å—è –∏–∑–º–µ–Ω—è—Ç—å `UserService`.
2. **–°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** ‚Äì –Ω–µ–ª—å–∑—è –ø–æ–¥–º–µ–Ω–∏—Ç—å `Database` –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–≥–ª—É—à–∫—É.
3. **–ù–∞—Ä—É—à–µ–Ω–∏–µ SRP** ‚Äì `UserService` –æ—Ç–≤–µ—á–∞–µ—Ç –∏ –∑–∞ –ª–æ–≥–∏–∫—É, –∏ –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## ‚úÖ **–•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)**

```python
class Database:
    def query(self, sql):
        print(f"–í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å: {sql}")
        return [{"id": 1, "name": "–ò–≤–∞–Ω"}]

class UserService:
    def __init__(self, db):  # ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∏–∑–≤–Ω–µ (Dependency Injection)
        self.db = db

    def get_users(self):
        return self.db.query("SELECT * FROM users")

# ===== –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–≤—Å—ë —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–¥–µ—Å—å) =====
def setup_dependencies():
    db = Database()  # –°–æ–∑–¥–∞—ë–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    user_service = UserService(db)  # –ü–µ—Ä–µ–¥–∞—ë–º –µ—ë –≤ —Å–µ—Ä–≤–∏—Å
    return user_service

# ===== –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ =====
def main():
    service = setup_dependencies()  # ‚úÖ –í—Å—ë —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
    users = service.get_users()    # ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≥–æ—Ç–æ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
    print(users)

if __name__ == "__main__":
    main()
```

**–ü–ª—é—Å—ã:**

1. **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äì –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å `Database` –Ω–∞ –¥—Ä—É–≥—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –Ω–µ –º–µ–Ω—è—è `UserService`.
2. **–õ—ë–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äì –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å `MockDatabase` –≤ `UserService`.
3. **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äì –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –µ—ë –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏** ‚Äì –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (`setup_dependencies`).

---

### üîÑ **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤**

<!-- markdownlint-disable MD013 -->

| **–ö—Ä–∏—Ç–µ—Ä–∏–π**          | **–ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä**             | **–•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä**                |
| --------------------- | ----------------------------- | --------------------------------- |
| **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤** | –í–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ (`UserService`) | –í–Ω–µ –∫–ª–∞—Å—Å–∞ (`setup_dependencies`) |
| **–ì–∏–±–∫–æ—Å—Ç—å**          | –°–ª–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏     | –õ–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏        |
| **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**     | –ù—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å    | –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å mock-–æ–±—ä–µ–∫—Ç—ã     |
| **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞**      | –ù–∞—Ä—É—à–∞–µ—Ç SRP                  | –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ |

<!-- markdownlint-enable MD013 -->

**–í—ã–≤–æ–¥:**  
‚û° **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥** ‚Äì –≤—ã–Ω–æ—Å–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ (`main` –∏–ª–∏ —Ñ–∞–±—Ä–∏–∫—É), –∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Å—Ç–∞–≤–ª—è—Ç—å —á–∏—Å—Ç–æ–π.  
‚û° **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dependency Injection** ‚Äì –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑–≤–Ω–µ,
–∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏—Ö –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤.
