# Open/Closed Principle (OCP) ‚Äî –ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏

## –û—Ç–ª–∏—á–Ω–æ üëç

–¢–µ–ø–µ—Ä—å —Ä–∞–∑–±–µ—Ä—ë–º –≤—Ç–æ—Ä–æ–π –ø—Ä–∏–Ω—Ü–∏–ø SOLID ‚Äî O: Open/Closed Principle
(–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏).

### üí° –°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞

–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–æ –∑–∞–∫—Ä—ã—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:

–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ–º–ø–æ–∑–∏—Ü–∏—é),
–Ω–æ –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â—É—é –ª–æ–≥–∏–∫—É.

### ‚ùå –ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä (–±–µ–∑ OCP)

```ts
class Shape {
    constructor(public type: string) {}
}

class AreaCalculator {
    calculate(shape: Shape): number {
        if (shape.type === "circle") {
            return 3.14 _ 5 _ 5;
        } else if (shape.type === "square") {
            return 5 \* 5;
        } else {
            throw new Error("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Ñ–∏–≥—É—Ä–∞");
        }
    }
}

const calc = new AreaCalculator();
console.log(calc.calculate(new Shape("circle")));
```

### üö® –ü—Ä–æ–±–ª–µ–º—ã:

- –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è —Ñ–∏–≥—É—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Triangle), –ø—Ä–∏–¥—ë—Ç—Å—è –ª–µ–∑—Ç—å –≤ AreaCalculator –∏ –º–µ–Ω—è—Ç—å –∫–æ–¥.
- –ù–∞—Ä—É—à–∞–µ—Ç—Å—è OCP ‚Äî –∫–æ–¥ –Ω–µ –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫.

### ‚úÖ –•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä (—Å–æ–±–ª—é–¥–µ–Ω–∏–µ OCP)

–ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º:

```ts
// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å ‚Äî –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Ñ–∏–≥—É—Ä
abstract class Shape {
  abstract area(): number;
}

// –†–∞–∑–Ω—ã–µ —Ñ–∏–≥—É—Ä—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç —Å–≤–æ–π –º–µ—Ç–æ–¥ area
class Circle extends Shape {
  constructor(private radius: number) {
    super();
  }
  area(): number {
    return Math.PI _ this.radius _ this.radius;
  }
}

class Square extends Shape {
  constructor(private side: number) {
    super();
  }
  area(): number {
    return this.side \* this.side;
  }
}

// –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∏–≥—É—Ä–∞—Ö
class AreaCalculator {
  calculate(shape: Shape): number {
    return shape.area();
  }
}

// ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ–∏–≥—É—Ä—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
class Triangle extends Shape {
  constructor(private base: number, private height: number) {
    super();
  }
  area(): number {
    return (this.base \* this.height) / 2;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const calc = new AreaCalculator();

console.log(calc.calculate(new Circle(5))); // 78.53...
console.log(calc.calculate(new Square(5))); // 25
console.log(calc.calculate(new Triangle(10, 6))); // 30
```

### üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å:

- AreaCalculator –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ–∏–≥—É—Ä—É.
- –ö–∞–∂–¥–∞—è —Ñ–∏–≥—É—Ä–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–≤–æ–π —Å–ø–æ—Å–æ–± –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–ª–æ—â–∞–¥–∏.
- –ú—ã —Ä–∞—Å—à–∏—Ä—è–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥.

üëâ –ö–æ–¥ –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (new Triangle), –Ω–æ –∑–∞–∫—Ä—ã—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è (AreaCalculator –Ω–µ —Ç—Ä–æ–≥–∞–µ–º).

### üß† –ö–æ—Ä–æ—Ç–∫–∏–π –≤—ã–≤–æ–¥

OCP –∑–∞—â–∏—â–∞–µ—Ç —Ç–≤–æ–π –∫–æ–¥ –æ—Ç "—ç—Ñ—Ñ–µ–∫—Ç–∞ –¥–æ–º–∏–Ω–æ".
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –Ω–µ –ª–æ–º–∞–µ—Ç —Å—Ç–∞—Ä—ã–π ‚Äî
—Ç—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—à—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –∏–ª–∏ –º–æ–¥—É–ª—å, –∞ –Ω–µ –ª–µ–∑–µ—à—å –≤ —Å—Ç–∞—Ä—ã–µ.
