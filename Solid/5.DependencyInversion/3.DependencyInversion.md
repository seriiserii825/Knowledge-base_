# Dependency Inversion Principle (DIP)

## –ü—Ä–∏–º–µ—Ä—ã

### üíÄ –ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–µ—Ç–∞–ª–µ–π)

```ts
class FileLogger {
  log(message: string) {
    console.log(`[LOG]: ${message}`);
  }
}
class UserService {
  private logger = new FileLogger(); // ‚ùå –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—ë—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
  createUser(name: string) {
    this.logger.log(`–°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${name}`);
  }
}
```

### üîª –ß—Ç–æ –ø–ª–æ—Ö–æ:

- UserService –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ FileLogger.
- –ï—Å–ª–∏ –∑–∞–≤—Ç—Ä–∞ —Ç—ã –∑–∞—Ö–æ—á–µ—à—å –ø–∏—Å–∞—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª, –≤ –ë–î –∏–ª–∏ –≤ Telegram ‚Äî –ø—Ä–∏–¥—ë—Ç—Å—è –º–µ–Ω—è—Ç—å UserService.
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ ‚Äî –Ω–µ –ø–æ–¥–º–µ–Ω–∏—à—å –ª–æ–≥–≥–µ—Ä –Ω–∞ —Ñ–µ–π–∫–æ–≤—ã–π.

### ‚úÖ –•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä (–∏–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

```ts
// 1. —Å–æ–∑–¥–∞—ë–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é
interface Logger {
  log(message: string): void;
}
// 2. –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class ConsoleLogger implements Logger {
  log(message: string) {
    console.log(`[LOG]: ${message}`);
  }
}
class FileLogger implements Logger {
  log(message: string) {
    // –ü–∏—à–µ–º –≤ —Ñ–∞–π–ª (–ø—Ä–∏–º–µ—Ä)
    console.log(`[FILE]: ${message}`);
  }
}
// 3. –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–ª–∞—Å—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class UserService {
  constructor(private logger: Logger) {} // <- –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º —Å–Ω–∞—Ä—É–∂–∏
  createUser(name: string) {
    this.logger.log(`–°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${name}`);
  }
}
// 4. —Å–≤—è–∑—ã–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ "—Å–Ω–∞—Ä—É–∂–∏"
const service = new UserService(new ConsoleLogger());
service.createUser("Sergiu");
```

### üîπ –¢–µ–ø–µ—Ä—å UserService –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–≥–≥–µ—Ä.

–ú–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –ª—é–±–æ–π, –¥–∞–∂–µ —Ñ–µ–π–∫–æ–≤—ã–π –¥–ª—è —Ç–µ—Å—Ç–æ–≤:

```ts
class FakeLogger implements Logger {
  log(msg: string) {} // –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç
}
const testService = new UserService(new FakeLogger());
testService.createUser("Test"); // –Ω–µ –≤—ã–≤–æ–¥–∏—Ç –Ω–∏—á–µ–≥–æ
```

### üí° –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç DIP

- –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–¥ (–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è) –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–µ—Ç–∞–ª–µ–π.
- –í–º–µ—Å—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã).
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∑–∞–ø–∏—Å—å –≤ –∫–æ–Ω—Å–æ–ª—å, —Ñ–∞–π–ª, —Å–µ—Ç—å) –∏–Ω–∂–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è —Å–Ω–∞—Ä—É–∂–∏.
