# Dependency Inversion Principle(–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, DIP)

–ó–≤—É—á–∏—Ç —Å–ª–æ–∂–Ω–æ, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ. –≠—Ç–æ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –≥–ª–∞—Å–∏—Ç:
–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–æ–¥—É–ª–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –º–æ–¥—É–ª–µ–π. –û–±–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.

### –ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è DIP

–ù–∞ —Å–ª–æ–≤–∞—Ö:

–ï—Å—Ç—å –∑–∞–≤–æ–¥, —Ä–∞–±–æ—á–∏–µ –∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ. –ó–∞–≤–æ–¥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–±–æ—á–∏—Ö, –∞ —Ä–∞–±–æ—á–∏–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞.
–†–∞–±–æ—á–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Å—Ç–∞–Ω–∫–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–∏—Ç–∞—é—Ç—Å—è –æ—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞.

–ï—Å–ª–∏ —Å–ª–æ–º–∞–ª–∞—Å—å –¥–µ—Ç–∞–ª—å –Ω–∞ —Å—Ç–∞–Ω–∫–µ, –∏ –µ–µ –∑–∞–º–µ–Ω—è—Ç –Ω–∞ –Ω–æ–≤—É—é, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞,
—Ç–æ —Ä–∞–±–æ—á–∏–µ –Ω–µ —Å–º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –∞ –∑–∞–≤–æ–¥ –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é.

–ö–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
–ù—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –≤ –Ω—É–∂–Ω—ã–π —Ç–∏–ø –¥–ª—è —Å—Ç–∞–Ω–∫–æ–≤.

–ò–ª–∏ –µ—Å–ª–∏ —Å–ª–æ–º–∞–ª–∞—Å—å –¥–µ—Ç–∞–ª—å, —Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è,
—Å –∫–æ—Ç–æ—Ä—ã–º –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ä–∞–±–æ—á–∏–µ, –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å–æ —Å—Ç–∞–Ω–∫–∞–º–∏
–∏ –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥–µ—Ç–∞–ª–µ–π.

## –ü—Ä–∏–º–µ—Ä –Ω–∞ TypeScript

### üß© –û–±—ã—á–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (–¥–æ –∏–Ω–≤–µ—Ä—Å–∏–∏)

–û–±—ã—á–Ω–æ (–±–µ–∑ DIP) —É –Ω–∞—Å —Ç–∞–∫:

–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å ‚Üí –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å
–ù–∞–ø—Ä–∏–º–µ—Ä:

```ts
class Lamp {
  turnOn() {
    console.log("–°–≤–µ—Ç –≤–∫–ª—é—á–µ–Ω");
  }
}

class Switch {
  private lamp = new Lamp(); // –ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
  on() {
    this.lamp.turnOn();
  }
}
```

–ó–¥–µ—Å—å Switch (–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å ‚Äî ‚Äú–ª–æ–≥–∏–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è —Å–≤–µ—Ç–∞‚Äù)
–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ Lamp (–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è).

‚Üí –ï—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è LEDLamp –∏–ª–∏ SmartLamp, –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å Switch.

### üîÅ –ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

DIP –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å ‚Üí –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è ‚Üê –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å
–¢–æ –µ—Å—Ç—å:

–ò Switch, –∏ Lamp —Ç–µ–ø–µ—Ä—å –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞),
–∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

```ts
interface Light {
  turnOn(): void;
}

class Lamp implements Light {
  turnOn() {
    console.log("–õ–∞–º–ø–∞ –≤–∫–ª—é—á–µ–Ω–∞");
  }
}

class LEDLamp implements Light {
  turnOn() {
    console.log("LED –ª–∞–º–ø–∞ –≤–∫–ª—é—á–µ–Ω–∞");
  }
}

class Switch {
  constructor(private device: Light) {}
  on() {
    this.device.turnOn();
  }
}
```

–¢–µ–ø–µ—Ä—å:

```ts
const lampSwitch = new Switch(new Lamp());
lampSwitch.on();

const ledSwitch = new Switch(new LEDLamp());
ledSwitch.on();
```

### ‚úÖ Switch –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ —Ç–∏–ø–µ –ª–∞–º–ø—ã ‚Äî –æ–Ω –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ Light.

üí° –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ ‚Äú–∏–Ω–≤–µ—Ä—Å–∏—è‚Äù
‚Äú–ò–Ω–≤–µ—Ä—Å–∏—è‚Äù (–ø–µ—Ä–µ–≤–æ—Ä–æ—Ç) ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–∞–Ω—å—à–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –¥–µ—Ç–∞–ª–∏ –±—ã–ª–∏ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è,
–∞ —Ç–µ–ø–µ—Ä—å –≤—Å—ë –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äî –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–∏–∫—Ç—É–µ—Ç —É—Å–ª–æ–≤–∏—è —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏,
–∞ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–æ–¥—É–ª–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —ç—Ç—É —Å–∏—Å—Ç–µ–º—É, —Ä–µ–∞–ª–∏–∑—É—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

–†–∞–Ω—å—à–µ: –≤–µ—Ä—Ö –∑–∞–≤–∏—Å–µ–ª –æ—Ç –Ω–∏–∑–∞.
–ü–æ—Å–ª–µ –∏–Ω–≤–µ—Ä—Å–∏–∏: –æ–±–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.
‚Äî –≤–æ—Ç –∏ ‚Äú–∏–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏‚Äù.

### üéØ –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ DIP

–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏.

–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –Ω–∞–≤—è–∑—ã–≤–∞—Ç—å —Å–≤–æ–∏ –º–µ—Ç–æ–¥—ã.
–û–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–∏–∫—Ç—É–µ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –º–æ–¥—É–ª—å.

–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥–µ—Ç–∞–ª–µ–π.
–î–µ—Ç–∞–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.
